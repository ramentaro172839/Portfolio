<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024年制作 - らーめん太郎 Fan Art Gallery</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="particles-js"></div>
    <header>
        <div class="container">
            <h1 class="site-title">らーめん太郎 Fan Art Gallery</h1>
            <nav>
                <ul>
                    <li><a href="index.html">トップ</a></li>
                    <li><a href="works.html">作品一覧</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="works" class="container">
            <div class="back-link">
                <a href="works.html" class="btn">← 作品一覧に戻る</a>
            </div>
            <h2>2024年制作 <span id="count-2024">(59作品)</span></h2>
            
            <div class="gallery" id="gallery-2024">
                <!-- Gallery will be generated by JavaScript -->
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 らーめん太郎</p>
        </div>
    </footer>

    <!-- Modal for image viewing -->
    <div id="modal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modal-img">
        <div id="caption"></div>
    </div>

    <script>
        // 2024年のファイルリスト（2023年ファイルを除外、重複除去、実在ファイルのみ）
        const files2024 = [
            "Bariさん_20240314155820.png",
            "maoさん_20240305161058.png",
            "Mioさん 幼稚園ver._20240925132340.png",
            "oipyさん 幼稚園ver._20240310065616.png",
            "peccoさん_20240219125742.png",
            "shunさん1_20240301060855.png",
            "アイス君 あこぐるみ_20240712212701.png",
            "アイス君_20240218074007.png",
            "あづささん_20240220054223.png",
            "アユフマさん 幼稚園ver._20240925131959.png",
            "うみねこさん_20240324215925.png",
            "えーいちさん_20240317053657.png",
            "おずぐるみ 原本3_20240305151457.png",
            "おずぐるみ 原本3_20240308100036.png",
            "おずぐるみ 全員集合 Shunさんオンタムさん前後入れ替え_20240410175652.png",
            "オズさん_20240910193353.png",
            "オンタムさん_20240228215026.png",
            "かえでせん_20240305050036.png",
            "かじゅさん01_20240220165319.png",
            "かなたさん_20240224220056.png",
            "さくらさん_20240318050453.png",
            "ジュニアさん_20240225221717.png",
            "ターちゃん_20240227190921.png",
            "タタさん_20240321071147.png",
            "つっきーさん幼稚園_20240123230019.png",
            "トミーさん_20240211220456.png",
            "とらぃねこさん1_20240303051946.PNG",
            "はっぱさん_20240319051826.PNG",
            "ぱんさん1_20240312161146.png",
            "はんじょもさん_20240214192644.png",
            "ぴーすけさん_20240312044320.png",
            "ひぐまさん_20240214192807.png",
            "フクロウちゃん_20240314060804.png",
            "ほしこさん.2024.02.12-06.14_20240213055112.jpeg",
            "ほとりさん_20240324064944.png",
            "ぽんたさん_20240220050341.png",
            "ほんてぃさん_修復済み2_20240304075613.png",
            "まつるさん_20240326072214.png",
            "みずとさん_20240320081135.png",
            "みっちーさん_20240327072243.png",
            "みねまちさん_20240310203415.PNG",
            "やすさん_20240321231821.png",
            "ユックさん1_20240323073648.png",
            "ヨメタムさん_20240307180754.png",
            "ら太幼稚園 全員集合_20240404062135.png",
            "わたちゃんさん_20240327191418.png",
            "丸ちゃん_20240306100352.png",
            "弱虫モン_20240304061156.png",
            "晴れ子さん3_20240214195238.png",
            "無題366_20240205214808.png",
            "無題368_20240211070036.png",
            "無題369_20240306081547.PNG",
            "無題401_20240501125155.png",
            "無題402_20240504092404.png",
            "無題414_20240519123144.png",
            "無題461_20241005082729.png",
            "無題478_20241204095829.png",
            "無題479_20241206132335.png",
            "ござさん_20250629074611.jpg",
            "ozu_san_red_white_cap_ultraman_ver_20250408184013.png"
        ];

        // ギャラリーを動的に生成
        function generateGallery() {
             const gallery = document.getElementById('gallery-2024');
             let loadedCount = 0;
             let hiddenCount = 0;
             
             files2024.forEach(fileName => {
                 const galleryItem = document.createElement('div');
                 galleryItem.className = 'gallery-item';
                 
                 const img = document.createElement('img');
                 // 画像2フォルダーにある画像かチェック
                 const image2Files = [
                     'ござさん_20250629074611.jpg'
                 ];
                 
                 if (image2Files.includes(fileName)) {
                     img.src = `画像2/${encodeURIComponent(fileName)}`;
                 } else {
                     img.src = `画像/${encodeURIComponent(fileName)}`;
                 }
                 img.alt = fileName;
                 
                 img.onload = function() {
                     loadedCount++;
                     console.log(`✅ Loaded: ${fileName} (${loadedCount}/${files2024.length})`);
                 };
                 
                 img.onerror = function() {
                     console.log(`❌ Failed to load: ${fileName}`);
                     // Try with encoded URL
                     const encodedFileName = encodeURIComponent(fileName);
                     if (image2Files.includes(fileName)) {
                         this.src = `画像2/${encodedFileName}`;
                     } else {
                         this.src = `画像/${encodedFileName}`;
                     }
                     
                     this.onerror = function() {
                         console.log(`❌ Failed to load even with encoding: ${fileName}`);
                         galleryItem.style.display = 'none';
                         hiddenCount++;
                         console.log(`🚫 Hidden ${hiddenCount} items so far`);
                     };
                 };
                 
                 // クリック時のモーダル表示機能を追加
                 img.onclick = function() {
                     const modal = document.getElementById('modal');
                     const modalImg = document.getElementById('modal-img');
                     const captionText = document.getElementById('caption');
                     
                     if (modal && modalImg && captionText) {
                         modal.style.display = "block";
                         modalImg.src = this.src;
                         captionText.innerHTML = ""; // キャプションを空にする
                     }
                 };
                 
                 galleryItem.appendChild(img);
                 gallery.appendChild(galleryItem);
             });
            
            // Update count after 3 seconds
            setTimeout(() => {
                const actualCount = files2024.length - hiddenCount;
                document.getElementById('count-2024').textContent = `(${actualCount}作品)`;
                console.log(`📊 Final count: ${actualCount} displayed, ${hiddenCount} hidden`);
            }, 3000);
         }

        // ページ読み込み後にギャラリーを生成
        document.addEventListener('DOMContentLoaded', generateGallery);
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>