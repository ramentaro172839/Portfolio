<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2023年制作 - らーめん太郎 Fan Art Gallery</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="particles-js"></div>
    <header>
        <div class="container">
            <h1 class="site-title">らーめん太郎 Fan Art Gallery</h1>
            <nav>
                <ul>
                    <li><a href="index.html">トップ</a></li>
                    <li><a href="works.html">作品一覧</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="works" class="container">
            <div class="back-link">
                <a href="works.html" class="btn">← 作品一覧に戻る</a>
            </div>
            <h2>2023年制作 <span id="count-2023">(99作品)</span></h2>
            
            <div class="gallery" id="gallery-2023">
                <!-- Gallery will be generated by JavaScript -->
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 らーめん太郎</p>
        </div>
    </footer>

    <!-- Modal for image viewing -->
    <div id="modal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modal-img">
        <div id="caption"></div>
    </div>

    <script>
        // 2023年のファイルリスト（重複除去、実在ファイルのみ）
        const files2023 = [
            "HamCup#003_20230306132632.PNG",
            "Hamcup#005_20230309045627.PNG",
            "HamCup#008.2023.03.15-09.16_20230322065747.PNG",
            "HamCup#009_20230408162548.PNG",
            "HamCup#012_20231025202402.PNG",
            "HamCup#013@_20231028153224.PNG",
            "HamuCup#005_20230308051142.PNG",
            "アイス君　原本_20231126162937.png",
            "ヨメタムさん　ら太幼稚園_20231230143404.PNG",
            "画素数606✖︎606_20231120161530.png",
            "無題100_20230515045149.PNG",
            "無題101.2023.05.29-23.07_20231113233445.png",
            "無題102_20230516062434.PNG",
            "無題103_20230516232300.PNG",
            "無題104_20230518070240.PNG",
            "無題104_20231108104933.png",
            "無題113_20230602070214.PNG",
            "無題114_20230603082239.PNG",
            "無題116_20230604155354.jpg",
            "無題118_20231030052807.PNG",
            "無題119_20231103060834.png",
            "無題122_20230116212829.PNG",
            "無題135_20231030055422.PNG",
            "無題137_20230611150700.PNG",
            "無題138_20231101055948.PNG",
            "無題142.2023.06.18-05.17_20231030135730.PNG",
            "無題154_20231109061348.png",
            "無題16_20230304140738.PNG",
            "無題167_20230227073744.PNG",
            "無題177_20230306073025.PNG",
            "無題210_20230406084553.PNG",
            "無題215_20230601072732.PNG",
            "無題222_20231002061117.PNG",
            "無題226.2023.08.29-21.03_20231103074816.png",
            "無題226.2023.08.29-21.03_20231110163102.png",
            "無題226.2023.08.29-21.07_20231122065338.png",
            "無題229_20231030135700.PNG",
            "無題229.2023.11.01-00.24_20231110162914.png",
            "無題23_20230302140306.PNG",
            "無題230.2023.09.17-06.25_20231121172946.png",
            "無題231.2023.07.11-23.37_20231102164455.png",
            "無題233_20231103060238.png",
            "無題246_20231109221415.png",
            "無題250.2023.09.12-23.12_20231029141716.PNG",
            "無題250.2023.09.14-17.50_20231030145515.PNG",
            "無題260_20231101054328.PNG",
            "無題260_20231115154522.png",
            "無題262_20231002053232.PNG",
            "無題266_20231002064420.PNG",
            "無題270.2023.09.17-06.25_20231113233356.png",
            "無題271_20231102164600.png",
            "無題276_20231030042415.PNG",
            "無題276_20231109053400.png",
            "無題287_20231105212320.png",
            "無題306_20230924153124.PNG",
            "無題313_20231005173937.PNG",
            "無題313_20231007163436.PNG",
            "無題315_20231006175324.PNG",
            "無題316_20231007063845.PNG",
            "無題318_20231011074016.PNG",
            "無題318_20231012224143.PNG",
            "無題318_20231020135458.PNG",
            "無題322_20231015152429.PNG",
            "無題322_20231016064937.png",
            "無題322_20231113180152.PNG",
            "無題322_20231113220445.png",
            "無題324_20231107095933.png",
            "無題326_20231016171315.PNG",
            "無題332_20231109114042.png",
            "無題333_20231112074745.png",
            "無題339_20231113184634.png",
            "無題339_20231115154459.png",
            "無題341_20231116063529.png",
            "無題344_20231121052014.png",
            "無題346_20231124044736.png",
            "無題349_20231123063350.png",
            "無題351_20231206041417.png",
            "無題353_20231208065600.png",
            "無題357_20231211131851.png",
            "無題358_20231214064453.png",
            "無題358_20231214064639.png",
            "無題361_20231228131442.PNG",
            "無題47_20230317154402.PNG",
            "無題50_20230319042419.PNG",
            "無題51_20230324153515.PNG",
            "無題54_20230322145330.PNG",
            "無題57_20230327075734.PNG",
            "無題59_20230401152544.PNG",
            "無題60_20230328070241.PNG",
            "無題60_20230402145327.jpg",
            "無題61_20230328172306.PNG",
            "無題62_20230403050808.PNG",
            "無題64_20230410152406.PNG",
            "無題65_20230411172132.PNG",
            "無題68_20230512020516.PNG",
            "無題7_20230228234227.PNG",
            "無題70_20230417160843.PNG",
            "無題71_20230419024552.PNG",
            "無題72_20230420071348.PNG",
            "無題79_20230430133952.PNG",
            "無題81_20230501081842.PNG",
            "無題82_20230504072738.PNG",
            "無題85_20230509093450.PNG",
            "無題89_20230511210034.PNG",
            "無題90_20230514073831.jpg",
            "無題92_20230514155749.jpg",
            "無題35_20250513211946.png",
            "untitled_481_20250626214124.jpg"
        ];

        // ギャラリーを動的に生成
        function generateGallery() {
            const gallery = document.getElementById('gallery-2023');
            let loadedCount = 0;
            let hiddenCount = 0;
            
            files2023.forEach(fileName => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                
                const img = document.createElement('img');
                img.src = `画像/${fileName}`;
                img.alt = '';
                
                img.onload = function() {
                    loadedCount++;
                    console.log(`✅ Loaded: ${fileName} (${loadedCount}/${files2023.length})`);
                };
                
                img.onerror = function() {
                    console.log(`❌ Failed to load: ${fileName}`);
                    // Try with encoded URL
                    const encodedFileName = encodeURIComponent(fileName);
                    this.src = `画像/${encodedFileName}`;
                    
                    this.onerror = function() {
                        console.log(`❌ Failed to load even with encoding: ${fileName}`);
                        galleryItem.style.display = 'none';
                        hiddenCount++;
                        console.log(`🚫 Hidden ${hiddenCount} items so far`);
                    };
                };
                
                // クリック時のモーダル表示機能を追加
                img.onclick = function() {
                    const modal = document.getElementById('modal');
                    const modalImg = document.getElementById('modal-img');
                    const captionText = document.getElementById('caption');
                    
                    if (modal && modalImg && captionText) {
                        modal.style.display = "block";
                        modalImg.src = this.src;
                        captionText.innerHTML = ""; // キャプションを空にする
                    }
                };
                
                galleryItem.appendChild(img);
                gallery.appendChild(galleryItem);
            });
            
            // Update count after 3 seconds
            setTimeout(() => {
                const actualCount = files2023.length - hiddenCount;
                document.getElementById('count-2023').textContent = `(${actualCount}作品)`;
                console.log(`📊 Final count: ${actualCount} displayed, ${hiddenCount} hidden`);
            }, 3000);
        }

        // ページ読み込み後にギャラリーを生成
        document.addEventListener('DOMContentLoaded', generateGallery);
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>